<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create table</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        .flight-input input{
            margin-left: 580px;
            margin-top: 5px;
            outline: none;
        }
        h2{
            text-align: center;
        }
        button{
            margin-left: 547px;
        }
    </style>
    
</head>

<body>
    <form onsubmit="addData();return false;">
        <h2>Flight tickets Booking</h2>
        <div class="flight-input">
            <input type="text" id="fname" placeholder="Enter first name" required>
            <span id="userfnameflight"></span>
        </div>
        <div class="flight-input">
            <input type="text" id="lname" placeholder="Enter last name" required>
            <span id="userlnameflight"></span>
        </div>
        <div class="flight-input">
            <input type="text" id="email" placeholder="Enter Email" required>
            <span id="useremailflight"></span>
        </div>
        <div class="flight-input">
            <input type="text" id="pwd" placeholder="Enter password" required>
            <span id="userpwdflight"></span>
        </div>
        <div class="flight-input">
            <input type="number" id="mobile" placeholder="Enter mobile no" required>
            <span id="usermobileflight"></span>
        </div>
        <div class="flight-input">
            <input type="text" id="flight" placeholder="Enter flight name E.g CA147" required>
            <span id="userflightflight"></span>
        </div>
        <div class="flight-input">
            <input type="text" id="flying" placeholder="From" required>
            <span id="userflyingflight"></span>
        </div>
        <div class="flight-input">
            <input type="text" id="flying1" placeholder="To" required>
            <span id="userflying1flight"></span>
            </div>
       
            
    
        <input type="submit" value="submit">
        <input type="reset" value="clear">
        <button onclick="deleteData()">Delete Data</button>
    
    </form>
    
    <table class="table" id="dataTable">
        <thead>
            <tr>
                <th>First name</th>
                <th>Last name</th>
                <th>Email</th>
                <th>password</th>
                <th>mobile</th>
                <th>Flight</th>
                <th>flying</th>
                <th>flying1</th>
            </tr>
        </thead>
        <tbody id="tableBody">
    
        </tbody>
    </table>
    
    <script>
    function addData() {
    // Get form input values
    let validationSuccess;
    let fname = document.getElementById("fname").value;
    let lname = document.getElementById("lname").value;
    let email = document.getElementById("email").value;
    let pwd = document.getElementById("pwd").value;
    let mobile = document.getElementById("mobile").value;
    let flight = document.getElementById("flight").value;
    let flying = document.getElementById("flying").value;
    let flying1 = document.getElementById("flying1").value;
    const formData = [fname, lname, email, pwd,mobile,flight,flying,flying1];

    validationSuccess=true;
    if (document.getElementById("fname").value == "") {
        validationSuccess=false;
        document.getElementById("userfnameflight").innerHTML = "Please enter a value";
        document.getElementById("userfnameflight").style.color = "red";
      } else {
        document.getElementById("userfnameflight").innerHTML = "";
        document.getElementById("userfnameflight").style.color = "green";
      }
      if (document.getElementById("lname").value == "") {
        //userlnamevalid = false;
        validationSuccess=false;
        document.getElementById("userlnameflight").innerHTML = "Please enter a value";
        document.getElementById("userlnameflight").style.color = "red";
      } else {
       // userlnamevalid = true;
       document.getElementById("userlnameflight").innerHTML = "";
        document.getElementById("userlnameflight").style.color = "green";
      }
      if(validationSuccess===true) {
        let formDataArray = JSON.parse(localStorage.getItem('formDataArray')) || [];
        formDataArray.push(formData);
        localStorage.setItem('formDataArray', JSON.stringify(formDataArray));
    }
    if (document.getElementById("email").value == "") {
        
        //useremailvalid = false;
        validationSuccess=false;
        document.getElementById("useremailflight").innerHTML = "Please enter a value";
        document.getElementById("useremailflight").style.color = "red";
      } else {
        // useremailvalid = true;
       document.getElementById("useremailflight").innerHTML = "";
        document.getElementById("useremailflight").style.color = "green";
      }
    if (document.getElementById("pwd").value == "") {
        //userpwdvalid = false;
        validationSuccess=false;
        document.getElementById("userpwdflight").innerHTML = "Please enter a value";
        document.getElementById("userpwdflight").style.color = "red";
      }
      else if(pwd.length<8){
        document.getElementById("userpwdflight").innerHTML = "password must be 8 char";
        document.getElementById("userpwdflight").style.color = "red";
    }
    else {
        //userpwdvalid = true;
        document.getElementById("userpwdflight").innerHTML = "";
        document.getElementById("userpwdflight").style.color = "green";
      } 
      if (document.getElementById("mobile").value == "") {
        //usermobilevalid = false;
        validationSuccess=false;
        document.getElementById("usermobileflight").innerHTML = "Please enter a value";
        document.getElementById("usermobileflight").style.color = "red";
      }
      else if(mobile.length<10){
        document.getElementById("usermobileflight").innerHTML = "mobile number must be 10 char";
        document.getElementById("usermobileflight").style.color = "red";
      } 
      else {
        //usermobilevalid = true;
        document.getElementById("usermobileflight").innerHTML = "";
        document.getElementById("usermobileflight").style.color = "green";
      }
      if (document.getElementById("flight").value == "") {
        //userflightvalid = false;
        validationSuccess=false;
        document.getElementById("userflightflight").innerHTML = "Please enter a value";
        document.getElementById("userflightflight").style.color = "red";
      } else {
        //userflightvalid = true;
        document.getElementById("userflightflight").innerHTML = "";
        document.getElementById("userflightflight").style.color = "green";
      }
      if (document.getElementById("flying").value == "") {
        //userflyingvalid = false;
        validationSuccess=false;
        document.getElementById("userflyingflight").innerHTML = "Please enter a value";
        document.getElementById("userflyingflight").style.color = "red";
      } else {
        //userflyingvalid = true;
        document.getElementById("userflyingflight").innerHTML = "";
        document.getElementById("userflyingflight").style.color = "green";
      }
      if (document.getElementById("flying1").value == "") {
        //userflying1valid = false;
        validationSuccess=false;
        document.getElementById("userflying1flight").innerHTML = "Please enter a value";
        document.getElementById("userflying1flight").style.color = "red";
      } else {
       // userflying1valid = true;
        document.getElementById("userflying1flight").innerHTML = "";
        document.getElementById("userflying1flight").style.color = "green";
      }

      

    // Create table row and cells
    let table = document.getElementById("dataTable").getElementsByTagName('tbody')[0];
    let newRow = table.insertRow();
    let fnameCell = newRow.insertCell(0);
    let lnameCell = newRow.insertCell(1);
    let emailCell = newRow.insertCell(2);
    let pwdCell = newRow.insertCell(3);
    let mobileCell = newRow.insertCell(4);
    let flightCell = newRow.insertCell(5);
    let flyingCell = newRow.insertCell(6);
    let flying1Cell = newRow.insertCell(7);

    // Add input values to cells
    fnameCell.innerHTML = fname;
    lnameCell.innerHTML = lname;
    emailCell.innerHTML = email;
    pwdCell.innerHTML = pwd;
    mobileCell.innerHTML = mobile;
    flightCell.innerHTML = flight;
    flyingCell.innerHTML = flying;
    flying1Cell.innerHTML = flying1;

    // Clear form inputs
    document.getElementById("fname").value = "";
    document.getElementById("lname").value = "";
    document.getElementById("email").value = "";
    document.getElementById("pwd").value = "";
    document.getElementById("mobile").value = "";
    document.getElementById("flight").value = "";
    document.getElementById("flying").value = "";
    document.getElementById("flying1").value = "";

    
}

function deleteData() {
    let table = document.getElementById("dataTable");
    let rowCount = table.rows.length;

    // Delete all rows except header row
    for (let i = rowCount - 1; i > 0; i--) {
        table.deleteRow(i);
    }
}
</script>
</body>
</html>